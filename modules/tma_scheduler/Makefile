THIS_MAKEFILE_PATH := $(abspath $(lastword $(MAKEFILE_LIST)))
THIS_MAKEFILE_DIR := $(dir $(THIS_MAKEFILE_PATH))

ccflags-y += -I$(THIS_MAKEFILE_PATH)include

# $(info $(THIS_MAKEFILE_PATH))
# $(info $(THIS_MAKEFILE_DIR))

POP_MODULE_SOURCES = $(wildcard $(THIS_MAKEFILE_DIR)*.c)
POP_MODULE_SOURCES += $(wildcard $(THIS_MAKEFILE_DIR)scheduler/*.c)
POP_MODULE_SOURCES += $(wildcard $(THIS_MAKEFILE_DIR)device/*.c)
POP_MODULE_SOURCES += $(wildcard $(THIS_MAKEFILE_DIR)utils/*.c)
POP_MODULE_SOURCES_NO_PREFIX = $(subst $(THIS_MAKEFILE_DIR),,$(POP_MODULE_SOURCES))

POP_MODULE_OBJECTS=$(POP_MODULE_SOURCES_NO_PREFIX:.c=.o)